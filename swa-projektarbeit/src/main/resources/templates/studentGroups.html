<!DOCTYPE html>
<html lang="en">
<!-- Navbar Snippet von:  https://bbbootstrap.com/snippets/bootstrap-5-sidebar-menu-toggle-button-34132202#-->

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link rel="stylesheet" href="/bootstrapTheme/bootstrap.min.css">
    <link rel="stylesheet" href="/bootstrapTheme/custom.css">

    <script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="/javaScript.js"></script>


    <title>Profile</title>

</head>


<body id="body-pd">
    <header class="header" id="header">
        <div class="header_toggle">
            <i class='nav_icon material-icons md-48' id="header-toggle"> menu</i>
        </div>
    </header>
    <div class="l-navbar navbar navbar-dark bg-dark " id="nav-bar">
        <nav class="nav">
            <div>
                <a href="/index" class="nav_logo ">
                    <i class='nav_logo-icon material-icons'> home</i>
                    <span class="nav_logo-name">StudyOM</span>
                </a>
                <div class="nav_list">
                    <a href="student/me/modules" class="nav_link active">
                        <i class='nav_icon material-icons '> account_circle</i>
                        <span class="nav_name">Profile</span>
                    </a>
                    <a href="/modules" class="nav_link">
                        <i class='nav_icon material-icons '> school</i>
                        <span class="nav_name">Modules</span>
                    </a>
                    <a href="/groups" class="nav_link">
                        <i class='nav_icon material-icons'> groups</i>
                        <span class="nav_name">Groups</span>
                    </a>
                </div>
            </div>
            <a class="nav_link" href="#">
                <i onclick="logout()" class='nav_icon material-icons md-36 md-light'>logout</i>
                <span class="nav_name">SignOut</span>
            </a>
        </nav>
    </div>
    <!--Container Main start-->
    <div class="height-100 bg-light">
        <div class="row">
            <div class="col-4 px-5 py-5">
                <div class="card shadow-sm" style="width: 18rem;">
                    <div class="card-body">
                        <h3 class="card-title text-center">{student.name}</h3>
                        <h6 class="card-subtitle mb-2 text-muted text-center py-1">{student.matNr}</h6>
                        <hr>
                        <div class="row text-center">
                            <div class="col-5">
                                <a>Modules</a>
                            </div>
                            <div class="col-2"></div>
                            <div class="col-5">
                                <a> Groups </a>
                            </div>
                        </div>
                        </form>
                        <div class="row text-center">
                            <div class="col-5 card-link">{student.modules.size}</div>
                            <div class="col-2"></div>
                            <div class="col-5 card-link">{student.groups.size}</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-8 pt-5 ">
                <div class="card shadow-sm ">
                    <div class="card-header ">
                        <ul class="nav nav-tabs card-header-tabs">
                            <div class="row">
                                <div class="col-2">
                                    <li class="nav-item">
                                        <a class="nav-link link-dark " href="./modules">Modules</a>
                                    </li>
                                </div>
                                <div class="col-2">
                                    <li class="nav-item">
                                        <a class="nav-link link-dark active" href="./groups">Groups</a>
                                    </li>
                                </div>
                            </div>
                        </ul>
                    </div>
                    <div class="card-body">
                        <div class="card-text">
                            {#for group in student.groups}
                            <div class="accordion accordion-flush" id="accordionFlushExample">
                                <div class="accordion-item text-left">
                                    <h2 class="accordion-header" id="flush-headingOne">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#flush-{group.id}"
                                            aria-expanded="false" aria-controls="flush-{group.id}">
                                            <a href="#" class="link-dark">{group.name}</a>
                                        </button>
                                    </h2>
                                    <div id="flush-{group.id}" class="accordion-collapse collapse"
                                        aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                                        <div class="accordion-body text-left">
                                            <b>Group ID:</b>
                                            <a>{group.id}</a>
                                            <br>
                                            <b>Members:</b>
                                            <a>{group.member.size}/{group.maxMembers}</a>
                                            <br>
                                            <b>Module:</b>
                                            <a>{group.module.name}</a> <br>
                                            <b>Owner:</b>
                                            <a>{group.owner.name} ({group.owner.matNr})</a> <br>
                                            {#if group.type == 'PROJECT'}
                                            <b>Project</b>
                                            {#else}
                                            <b>Studygroup</b>
                                            {/if}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {/for}

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--Container Main end-->


</html>